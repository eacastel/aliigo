{
  "version": 3,
  "sources": ["../../../src/widget/v1/aliigo-widget.ts"],
  "sourcesContent": ["// src/widget/v1/aliigo-widget.ts\n\ntype Role = \"user\" | \"assistant\";\ntype Msg = { role: Role; content: string };\n\ntype Theme = {\n  headerBg?: string;   // \"#111827 #ffffff\"\n  bubbleUser?: string; // \"#2563eb #ffffff\"\n  bubbleBot?: string;  // \"#f3f4f6 #111827\"\n  sendBg?: string;     // \"#2563eb #ffffff\"\n};\n\ntype SessionPayload = {\n  token: string;\n  locale: \"en\" | \"es\";\n  brand: string;\n  slug: string;\n  theme: Theme | null;\n};\n\nconst UI = {\n  en: {\n    pill: (brand: string) => `Ask ${brand}`,\n    title: (brand: string) => `${brand} Assistant`,\n    welcome: \"Ask a question and we\u2019ll help right away.\",\n    placeholder: \"Type your question\u2026\",\n    send: \"Send\",\n  },\n  es: {\n    pill: (brand: string) => `Pregunta a ${brand}`,\n    title: (brand: string) => `Asistente de ${brand}`,\n    welcome: \"Haz tu consulta y te ayudamos al momento.\",\n    placeholder: \"Escribe tu consulta\u2026\",\n    send: \"Enviar\",\n  },\n} as const;\n\nfunction isEs(locale: string) {\n  return (locale || \"\").toLowerCase().startsWith(\"es\");\n}\n\nfunction splitPair(v?: string, defaults?: { bg: string; text: string }) {\n  const s = (v || \"\").trim();\n  const m = s.match(/#([0-9a-fA-F]{3}){1,2}/g) || [];\n  const bg = m[0] || defaults?.bg || \"#111827\";\n  const text = m[1] || defaults?.text || \"#ffffff\";\n  return { bg, text };\n}\n\nfunction clamp(n: number, min: number, max: number) {\n  return Math.max(min, Math.min(max, n));\n}\n\nclass AliigoWidget extends HTMLElement {\n  private root!: ShadowRoot;\n\n  private ensureRoot() {\n    if (!this.shadowRoot) {\n      this.root = this.attachShadow({ mode: \"open\" });\n    } else {\n      this.root = this.shadowRoot;\n    }\n  }\n  \n  private state = {\n    open: false,\n    busy: false,\n    conversationId: null as string | null,\n    msgs: [] as Msg[],\n    session: null as SessionPayload | null,\n    locale: \"en\" as \"en\" | \"es\",\n  };\n\n  static get observedAttributes() {\n    return [\"variant\", \"embed-key\", \"api-base\", \"locale\", \"session-token\", \"theme\", \"start-open\", \"floating-mode\"];\n  }\n\n  connectedCallback() {\n    this.root = this.attachShadow({ mode: \"open\" });\n\n    // allow preview mode to start open (only matters for floating)\n    if (this.getVariant() === \"floating\" && this.getStartOpen()) {\n      this.state.open = true;\n    }\n\n    this.render();\n    void this.ensureSession();\n  }\n\n  attributeChangedCallback(name: string, oldValue: string | null, newValue: string | null) {\n    if (oldValue === newValue) return;\n\n    // IMPORTANT: attributeChangedCallback can run before connectedCallback\n    this.ensureRoot();\n\n    // Always rerender\n    this.render();\n\n    // Only refetch session if these change\n    if (name === \"embed-key\" || name === \"api-base\" || name === \"session-token\") {\n      this.state.session = null; // force refresh\n      void this.ensureSession();\n    }\n  }\n\n  private getVariant(): \"floating\" | \"inline\" | \"hero\" {\n    const v = (this.getAttribute(\"variant\") || \"floating\").toLowerCase();\n    if (v === \"inline\" || v === \"hero\") return v;\n    return \"floating\";\n  }\n\n  private getEmbedKey() {\n    return (this.getAttribute(\"embed-key\") || \"\").trim();\n  }\n\n  private getApiBase() {\n    return (this.getAttribute(\"api-base\") || \"https://aliigo.com\").trim().replace(/\\/$/, \"\");\n  }\n\n  private getLocaleOverride(): \"en\" | \"es\" | null {\n    const v = (this.getAttribute(\"locale\") || \"\").trim().toLowerCase();\n    if (!v) return null;\n    return v.startsWith(\"es\") ? \"es\" : \"en\";\n  }\n\n  private getSessionTokenOverride(): string | null {\n    const t = (this.getAttribute(\"session-token\") || \"\").trim();\n    return t || null;\n  }\n\n  private getThemeOverride(): Theme | null {\n    const raw = (this.getAttribute(\"theme\") || \"\").trim();\n    if (!raw) return null;\n\n    try {\n      const o = JSON.parse(raw) as Partial<Theme>;\n      const out: Theme = {};\n\n      if (typeof o.headerBg === \"string\") out.headerBg = o.headerBg;\n      if (typeof o.bubbleUser === \"string\") out.bubbleUser = o.bubbleUser;\n      if (typeof o.bubbleBot === \"string\") out.bubbleBot = o.bubbleBot;\n      if (typeof o.sendBg === \"string\") out.sendBg = o.sendBg;\n\n      return out;\n    } catch {\n      return null;\n    }\n  }\n\n  private getStartOpen(): boolean {\n    return (this.getAttribute(\"start-open\") || \"\").toLowerCase() === \"true\";\n  }\n\n  private getFloatingMode(): \"fixed\" | \"absolute\" {\n    const v = (this.getAttribute(\"floating-mode\") || \"\").toLowerCase();\n    return v === \"absolute\" ? \"absolute\" : \"fixed\";\n  }\n\n\n  private async ensureSession() {\n    // If dashboard preview already minted a token, skip session endpoint\n    const overrideToken = this.getSessionTokenOverride();\n    const embedKey = this.getEmbedKey();\n    if (!embedKey && !overrideToken) return;\n\n    // If we already have a session and it's still compatible with overrides, don\u2019t thrash\n    if (this.state.session && !overrideToken) return;\n\n    try {\n      const apiBase = this.getApiBase();\n\n      if (overrideToken) {\n        const localeOverride = this.getLocaleOverride();\n        const themeOverride = this.getThemeOverride();\n\n        this.state.session = {\n          token: overrideToken,\n          locale: localeOverride || this.state.locale,\n          brand: \"Aliigo\",\n          slug: \"\",\n          theme: themeOverride, \n        };\n\n        this.state.locale = localeOverride || this.state.locale;\n        this.render();\n        return;\n      }\n\n      const url = new URL(`${apiBase}/api/embed/session`);\n      url.searchParams.set(\"key\", embedKey);\n      // pass host for clarity; server will validate using Origin anyway\n      url.searchParams.set(\"host\", window.location.hostname);\n\n      const res = await fetch(url.toString(), { method: \"GET\" });\n      const data = (await res.json().catch(() => ({}))) as Partial<SessionPayload> & { error?: string };\n\n      if (!res.ok || !data.token) {\n        // fail closed: widget won\u2019t operate\n        this.state.session = null;\n        this.renderError(data.error || \"Session error\");\n        return;\n      }\n\n      const localeOverride = this.getLocaleOverride();\n      const locale = localeOverride || (isEs(data.locale || \"en\") ? \"es\" : \"en\");\n\n      this.state.session = {\n        token: data.token,\n        locale,\n        brand: (data.brand || \"Aliigo\").trim(),\n        slug: (data.slug || \"\").trim(),\n        theme: (data.theme as Theme | null) || null,\n      };\n      this.state.locale = locale;\n      this.render();\n    } catch {\n      this.renderError(\"Network error\");\n    }\n  }\n\n  private renderError(msg: string) {\n    this.ensureRoot();\n    this.root.innerHTML = `\n      <style>${this.css()}</style>\n      <div class=\"wrap inline\">\n        <div class=\"panel\">\n          <div class=\"header\">Aliigo</div>\n          <div class=\"body\"><div class=\"bubble bot\">${msg}</div></div>\n        </div>\n      </div>\n    `;\n  }\n\n  private css() {\n  return `\n    :host{ all: initial; display:block; height:100%; }\n\n    .wrap{ font-family: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif; box-sizing:border-box; height:100%; }\n    .wrap, .wrap *{ box-sizing:border-box; }\n\n    /* floating can be fixed (client sites) or absolute (dashboard preview container) */\n    .floating.fixed{ position: fixed; right: 24px; bottom: 24px; z-index: 2147483647; }\n    .floating.absolute{ position: absolute; right: 16px; bottom: 16px; z-index: 2147483647; }\n\n    .inline{ width: 100%; height:auto; }\n    .hero{ width: 100%; height:100%; max-width: 100%; margin: 0 auto; }\n\n    .pill{\n      border:0; cursor:pointer; font-weight:700;\n      border-radius:999px; padding:12px 16px;\n      box-shadow: 0 20px 40px rgba(0,0,0,0.25);\n      transition: background-color .18s ease, color .18s ease;\n    }\n\n    .panel{\n      width: 360px;\n      height: 420px;\n      background:#fff;\n      border: 1px solid rgba(0,0,0,0.10);\n      border-radius: 18px;\n      overflow: hidden;\n      box-shadow: 0 25px 60px rgba(0,0,0,0.28);\n      display:flex;\n      flex-direction:column;\n    }\n\n    .panel.inline{ width:100%; max-width:100%; }\n    .panel.hero{ width:100%; max-width:100%; height:100%; } /* \u2705 key fix */\n\n    .header{\n      padding: 12px 14px;\n      display:flex; align-items:center; justify-content:space-between;\n      border-bottom: 1px solid rgba(0,0,0,0.08);\n      font-weight: 700;\n      font-size: 14px;\n      transition: background-color .18s ease, color .18s ease;\n    }\n\n    .close{\n      border:0; background:transparent; cursor:pointer;\n      font-size:18px; line-height:18px; opacity:0.8;\n    }\n\n    .body{\n      flex: 1;\n      min-height: 0;\n      overflow: hidden;\n      padding: 12px;\n      display:flex;\n    }\n\n    .messages{\n      flex:1;\n      min-height:0;\n      overflow-y:auto;\n      padding-right: 6px;\n    }\n\n    .row{ margin-top: 8px; }\n    .row.user{ text-align:right; }\n    .row.bot{ text-align:left; }\n\n    .bubble{\n      display:inline-block;\n      max-width: 85%;\n      padding: 8px 12px;\n      border-radius: 12px;\n      font-size: 14px;\n      word-break: break-word;\n      white-space: pre-wrap;\n      transition: background-color .18s ease, color .18s ease;\n    }\n\n    .form{\n      flex: 0 0 auto;\n      display:flex;\n      gap: 8px;\n      padding: 10px;\n      border-top: 1px solid rgba(0,0,0,0.08);\n      background:#fff;\n    }\n\n    .input{\n      flex:1;\n      height: 38px;\n      border: 1px solid rgba(0,0,0,0.12);\n      border-radius: 10px;\n      padding: 0 12px;\n      font-size: 14px;\n      outline: none;\n    }\n\n    .send{\n      height: 38px;\n      border:0;\n      border-radius: 10px;\n      padding: 0 14px;\n      font-size: 14px;\n      font-weight: 700;\n      cursor:pointer;\n      transition: background-color .18s ease, color .18s ease;\n    }\n    .send:disabled{ opacity:0.55; cursor:not-allowed; }\n\n    @media (max-width: 520px){\n      .floating.fixed{ left: 12px; right: 12px; bottom: 12px; }\n      .panel{ width: 100%; height: 70vh; }\n    }\n  `;\n}\n\n\n  private render() {\n    this.ensureRoot();\n    const variant = this.getVariant();\n    const session = this.state.session;\n    const locale = this.getLocaleOverride() || this.state.locale;\n    const t = UI[locale];\n\n    const theme = this.getThemeOverride() || session?.theme || {};\n    const header = splitPair(theme.headerBg, { bg: \"#111827\", text: \"#ffffff\" });\n    const user = splitPair(theme.bubbleUser, { bg: \"#2563eb\", text: \"#ffffff\" });\n    const bot = splitPair(theme.bubbleBot, { bg: \"#f3f4f6\", text: \"#111827\" });\n    const send = splitPair(theme.sendBg, { bg: \"#2563eb\", text: \"#ffffff\" });\n\n    const brand = session?.brand || \"Aliigo\";\n\n    const open = variant !== \"floating\" ? true : this.state.open;\n\n    const floatingMode = this.getFloatingMode(); \n    const wrapperClass =\n      variant === \"floating\"\n        ? `wrap floating ${floatingMode}`\n        : variant === \"hero\"\n          ? \"wrap hero\"\n          : \"wrap inline\";\n    const panelClass = variant === \"hero\" ? \"panel hero\" : variant === \"inline\" ? \"panel inline\" : \"panel\";\n\n    // Build messages html\n    const msgs = this.state.msgs;\n    const messagesHtml =\n      msgs.length === 0\n        ? `<div class=\"row bot\"><div class=\"bubble bot\" style=\"background:${bot.bg};color:${bot.text};\">${t.welcome}</div></div>`\n        : msgs\n            .map((m) => {\n              const isUser = m.role === \"user\";\n              const bubbleStyle = isUser\n                ? `background:${user.bg};color:${user.text};`\n                : `background:${bot.bg};color:${bot.text};`;\n              return `\n                <div class=\"row ${isUser ? \"user\" : \"bot\"}\">\n                  <div class=\"bubble ${isUser ? \"user\" : \"bot\"}\" style=\"${bubbleStyle}\">${escapeHtml(m.content)}</div>\n                </div>\n              `;\n            })\n            .join(\"\");\n\n    // floating closed => pill only\n    if (variant === \"floating\" && !open) {\n      this.root.innerHTML = `\n        <style>${this.css()}</style>\n        <div class=\"${wrapperClass}\">\n          <button class=\"pill\" style=\"background:${send.bg};color:${send.text};\">${t.pill(brand)}</button>\n        </div>\n      `;\n      const btn = this.root.querySelector(\".pill\") as HTMLButtonElement | null;\n      btn?.addEventListener(\"click\", () => {\n        this.state.open = true;\n        this.render();\n        this.scrollToBottomSoon();\n      });\n      return;\n    }\n\n    this.root.innerHTML = `\n      <style>${this.css()}</style>\n      <div class=\"${wrapperClass}\">\n        <div class=\"${panelClass}\">\n          <div class=\"header\" style=\"background:${header.bg};color:${header.text};\">\n            <div>${t.title(brand)}</div>\n            ${variant === \"floating\" ? `<button class=\"close\" aria-label=\"Close\" style=\"color:${header.text};\">\u00D7</button>` : ``}\n          </div>\n\n          <div class=\"body\">\n            <div class=\"messages\">${messagesHtml}<div id=\"bottom\"></div></div>\n          </div>\n\n          <form class=\"form\">\n            <input class=\"input\" placeholder=\"${t.placeholder}\" />\n            <button class=\"send\" type=\"submit\" style=\"background:${send.bg};color:${send.text};\" ${this.state.busy || !session?.token ? \"disabled\" : \"\"}>${t.send}</button>\n          </form>\n        </div>\n      </div>\n    `;\n\n    const close = this.root.querySelector(\".close\") as HTMLButtonElement | null;\n    close?.addEventListener(\"click\", () => {\n      this.state.open = false;\n      this.render();\n    });\n\n    const form = this.root.querySelector(\".form\") as HTMLFormElement | null;\n    const input = this.root.querySelector(\".input\") as HTMLInputElement | null;\n\n    form?.addEventListener(\"submit\", (e) => {\n      e.preventDefault();\n      const v = (input?.value || \"\").trim();\n      if (!v) return;\n      if (input) input.value = \"\";\n      void this.send(v);\n    });\n\n    this.scrollToBottomSoon();\n  }\n\n  private scrollToBottomSoon() {\n    const messages = this.root.querySelector(\".messages\") as HTMLDivElement | null;\n    if (!messages) return;\n    requestAnimationFrame(() => {\n      messages.scrollTop = messages.scrollHeight;\n    });\n  }\n\n  private async send(content: string) {\n    const session = this.state.session;\n    if (!session?.token) return;\n\n    this.state.busy = true;\n    this.state.msgs = [...this.state.msgs, { role: \"user\", content }];\n    this.render();\n\n    try {\n      const apiBase = this.getApiBase();\n      const res = await fetch(`${apiBase}/api/conversation`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          token: session.token,\n          conversationId: this.state.conversationId,\n          message: content,\n          locale: this.state.locale,\n          channel: \"web\",\n        }),\n      });\n\n      const raw = (await res.json().catch(() => ({}))) as { conversationId?: string; reply?: string; error?: string; locale?: string };\n\n      if (!res.ok) {\n        this.state.msgs = [...this.state.msgs, { role: \"assistant\", content: raw.error || \"Error\" }];\n        this.state.busy = false;\n        this.render();\n        return;\n      }\n\n      if (raw.conversationId) this.state.conversationId = raw.conversationId;\n      this.state.msgs = [...this.state.msgs, { role: \"assistant\", content: raw.reply || \"\" }];\n      this.state.busy = false;\n      this.render();\n    } catch {\n      this.state.msgs = [...this.state.msgs, { role: \"assistant\", content: \"Network error\" }];\n      this.state.busy = false;\n      this.render();\n    }\n  }\n}\n\nfunction escapeHtml(s: string) {\n  return (s || \"\")\n    .replaceAll(\"&\", \"&amp;\")\n    .replaceAll(\"<\", \"&lt;\")\n    .replaceAll(\">\", \"&gt;\")\n    .replaceAll('\"', \"&quot;\")\n    .replaceAll(\"'\", \"&#039;\");\n}\n\nif (!customElements.get(\"aliigo-widget\")) {\n  customElements.define(\"aliigo-widget\", AliigoWidget);\n}\n"],
  "mappings": "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",
  "names": ["UI", "brand", "isEs", "locale", "splitPair", "v", "defaults", "m", "bg", "text", "AliigoWidget", "name", "oldValue", "newValue", "v", "raw", "o", "out", "overrideToken", "embedKey", "apiBase", "localeOverride", "themeOverride", "url", "res", "data", "locale", "isEs", "msg", "variant", "session", "t", "UI", "theme", "header", "splitPair", "user", "bot", "send", "brand", "open", "floatingMode", "wrapperClass", "panelClass", "msgs", "messagesHtml", "m", "isUser", "bubbleStyle", "escapeHtml", "btn", "close", "form", "input", "e", "messages", "content", "s"]
}
